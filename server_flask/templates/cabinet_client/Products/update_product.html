{% extends 'cabinet_client/Products/layout/base.html' %} 

{% block head %}

{% endblock %}

{% block body %}
	<div class="content">
		<h1 style="text-align: center;">
			Оновлення Товару {{product.article}}
		</h1>
		<form action="/cabinet/products/update/{{product.id}}" method="post">
			<input style="display: none;" name="new_product_id" id="new_product_id" value="{{ product.id }}">
			<div class="row">
				<div class="col-sm"><footer>
					<small class="text-muted">Артікул</small></footer>
					<input class="form-control bg-light" name="article" rows="1" cols="50" placeholder="* Назва" value="{{product.article}}"><br></div>
			</div>
			<div class="row">
				<div class="col-sm">
					<footer><small class="text-muted">Назва</small></footer>
					<input class="form-control bg-light" name="product_name" rows="1" cols="50" placeholder="* Артікул"	value="{{product.product_name}}">
					<br>
				</div>
			</div>
			
<div class="center">
				<button style="color: #626870;
				background: #beccf4;
				border-radius: 14px;
				box-shadow: 4px 4px 12px #00000010;
				width: 30%;
				"
				class="btn"  type="submit">Оновити Товар</button>
		</div>
		<h1 style="text-align: center;">
			Компоненти
		</h1>
		
		{% for relate in product.product_relate %}
			<div class="row" id="relate">
				<button type="button" onclick="confirmDelete({{ relate.id }})" 
					class="btn    my-sm-0" style="color: #626870;">
						Видалити Компонент
				</button>
				<script>
					function confirmDelete(id) {
						// Викликаємо модальне вікно підтвердження
						if (confirm("Ви впевнені, що хочете видалити компонент?")) {
							// Якщо користувач натиснув "OK", видалити елемент
							window.location.href = "/cabinet/products/delete_relate/" + id;
						} else {
							// Якщо користувач натиснув "Скасувати", нічого не робимо
							return false;
						} 
					}

					function deleteElement() { 
						// Видалення елементу
						// Наприклад, можна використати jQuery для цього: $('#elementId').remove();
					}
				</script>
				<input style="display:none" name="source_id" rows="1" cols="50" 
				placeholder="* Артікул"	value="{{ relate.product_source.id }}">
				<div class="row">
					<div class="col-sm"><footer>
						<small class="text-muted">Артікул</small></footer>
						<input class="form-control bg-light" name="relate_article" 
						rows="1" cols="50" 
						placeholder="* Назва" value="{{relate.product_source.article}}"><br></div>
					</div>
					<div class="row">
						<div class="col-sm">
							<footer><small class="text-muted">Кількість</small></footer>
							<input class="form-control bg-light" name="relate_quantity" 
							rows="1" cols="50" placeholder="* Артікул"	value="{{relate.quantity}}">
						<br>
					</div>
				</div>
			</div>
			
		{% endfor %}
		
		{% if not product.product_relate %}
		<div class="row">
			<h3 style="text-align: center;">
				Нет Компонентов
			</h3>
		</div>
		{% else %}
		<div class="row">
					<div class="center">
							<button 
							type="button"
							class="btn"
							style="color: #626870;
								background: #beccf4;
								border-radius: 14px;
								box-shadow: 4px 4px 12px #00000010;
								width: 30%;
								"
							data-bs-toggle="modal" 
							data-bs-target="#useComponent">
							Использовать Компоненти
						</button>
					</div>
				</div>
				{% include 'cabinet_client/Products/use_relate_products_modal.html' %}
				
				{% endif %}
				{% include 'cabinet_client/Products/add_relate_products_modal.html' %}
				{% include 'cabinet_client/Products/adduse_relate_products_modal.html' %}
				<div class="row">
					<div class="center">
					<button 
						type="button"
						class="btn"
						style="color: #626870;
							background: #beccf4;
							border-radius: 14px;
							box-shadow: 4px 4px 12px #00000010;
							width: 30%;
							"
						data-bs-toggle="modal" 
						data-bs-target="#addComponent">
						Додати Компоненти
					</button>
					</div>
				</div>
				<div class="row">
					<div class="center">
					<button 
						type="button"
						class="btn"
						style="color: #626870;
							background: #beccf4;
							border-radius: 14px;
							box-shadow: 4px 4px 12px #00000010;
							width: 30%;
							"
						data-bs-toggle="modal" 
						data-bs-target="#adduseComponent">
						Додати Компоненти з товару
					</button>
					</div>
				</div>
			</div>
			
		</form>



	</div>


{% endblock %}