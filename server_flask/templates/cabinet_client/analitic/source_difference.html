{% extends 'cabinet_client/analitic/layout/base.html' %} {% block title %}Home{% endblock %}
{% block head %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<link rel="stylesheet" type="text/css" href="https://npmcdn.com/flatpickr/dist/themes/dark.css">
<head>
  <title>Аналітика Товару {{product[0].product_source.name}}</title>
</head>
{% endblock %} 
{% block body %}

<div class="button-container">
						
  <nav class="nav">
    <div class="button-pult">
      <div id="q" class="">
        
      </div>
    </div>
    <div class="button-pult">
      <a href="/cabinet/analitic/update_day">
        <button type="button" class="col-sm btn btn-outline-info my-2 my-sm-0">
          Оновити день
        </button>
      </a>
    </div>
    <div class="button-pult">
      <a href="/cabinet/analitic/update_week">
        <button type="button" class="col-sm btn btn-outline-info my-2 my-sm-0">
          Оновити Week
        </button>
      </a>
    </div>
    <div class="button-pult">
      <a href="/cabinet/analitic/update_month">
        <button type="button" class="col-sm btn btn-outline-info my-2 my-sm-0">
          Оновити Month
        </button>
      </a>
    </div>
    <div class="button-pult">
      <a href="/cabinet/analitic/update_year">
        <button type="button" class="col-sm btn btn-outline-info my-2 my-sm-0">
          Оновити Year
        </button>
      </a>
    </div>
    <div class="button-pult">
      <a href="/cabinet/analitic/update_all">
        <button type="button" class="col-sm btn btn-outline-info my-2 my-sm-0">
          Оновити ALL
        </button>
      </a>
    </div>
    
  </nav>
</div>



<h1 style="text-align: center;">
  Аналітика Товару {{product[0].product_source.name}}
</h1>


<div id="arrival-list">
    <div class="table-responsive-sm" >
      <table class="table table-hover table-striped ">
        <thead>
          <tr >
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col">Дата</th>
            <th scope="col">кількість в срм</th>
            <th scope="col">кількість на складі</th>
            <th scope="col">Різниця</th>
            <th scope="col">Продано</th>
            <th scope="col">Коментар</th>

          </tr>
        </thead>
        <tbody >
          {% for item in product %}
          <tr>
            <td></td>
            <td>
              <a href="/cabinet/source_difference/update/{{item.id}}">
                <button type="button" class="btn btn-info">
                  <i class="fa-solid fa-pen"></i>
                </button>
              </a>
            </td>
            <td>{{item.event_date.strftime('%d-%m-%Y')}}</td>
            <td >{{item.quantity_crm}}</td>
            <td><input style="text-align: center;" class="quantity form-control" 
              id="difference" name="difference"  min="1" max="10000" 
              placeholder="* різниця" value="{{item.quantity_stock}}">
            </td>
            <td>{{item.difference}}</td>
            <td>{{item.sold}}</td>
            <td>{{item.comment}}</td>
           


          </tr>
      
                              
          {% endfor %}
        </tbody>
        </table>
            </div>
            
          </div>
          



          <br/>
          <br/>

          <div class="content">
            <h1 style="text-align: center;">
                    Додати Підрахунок
                </h1>
  <form id="myForm" action="{{ url_for('SourceDifference.source_difference') }}" method="post">
    <div class="row">
      <div class="col-sm col-lg-2">                
        <input class="form-control"
            type="text" id="event_date" name="event_date"/>                       
        </div>                    
    <script>
        flatpickr('#event_date', {
        dateFormat: 'd-m-Y', // Формат дати
        allowInput: true,
        defaultDate: 'today', 
        });
    </script>
  
      <div class="col-sm col-lg-2">
        <select  class="form-control select-source" 
        name="source_id" 
        required>
    </select><br>
</div>
<div class="col-sm col-lg-2">
  <input style="text-align: center;" class="quantity form-control" 
  id="quantity_crm" name="quantity_crm"  min="1" max="10000" 
  placeholder="* Кількість срм" required><br>
</div>
<div class="col-sm col-lg-2">
  <input style="text-align: center;" class="quantity form-control" 
  id="quantity_stock" name="quantity_stock"  min="1" max="10000" 
  placeholder="* Кількість склад" required><br>
</div>     
<div class="col-sm col-lg-2">
  <input style="text-align: center;" class="quantity form-control" 
  id="difference" name="difference"  min="1" max="10000" 
  placeholder="* різниця" required><br>
</div>  
    </div>
   <br/>
   <br/>
</div>
<div class="row">
  <div class="col-sm"></div>
  <div class="col-sm"><button class="btn btn-outline-success my-2 my-sm-0" type="submit">Поставити на прихід</button></div>
</div>
</form>

<div class="button-pult">
  <a href="/cabinet/source_difference/update_day">
    <button type="button" class="col-sm btn btn-outline-info my-2 my-sm-0">
      Додати товар за цей день
    </button>
  </a>
</div>

<script src="{{url_for('static', filename='javascript/select_source.js')}}"></script>
<!-- Підключення стилів Flatpickr -->



{% endblock %}

